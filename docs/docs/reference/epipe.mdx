---
title: MPLS Epipes
---

This schema extension contains models for MPLS Epipes

## Details

- **Dependencies:**
  - [base](dcim)
- **Attribution:** [Jordy Dehaes](https://www.linkedin.com/in/jordy-dehaes/)

## Nodes

### LSPTemplate

- **Label:** LSP Template
- **Namespace:** Infra

#### Attributes

| name | description | kind | optional | default_value | choices |
| ---- | ----------- | ---- | -------- | ------------- | ------- |
| name |  | Text | False |  |  |
| role |  | Dropdown |  |  | low_latency, igp_cost, disjoint |

#### Relationships

| name | peer | optional | cardinality | kind |
| ---- | ---- | -------- | ----------- | ---- |
| node_a | InfraDevice |  | one | Attribute |
| node_b | InfraDevice |  | one | Attribute |

### EpipeTemplate

- **Label:** Epipe Template
- **Namespace:** Infra

#### Attributes

| name | description | kind | optional | default_value | choices |
| ---- | ----------- | ---- | -------- | ------------- | ------- |
| name |  | Text | True |  |  |
| mtu | Maximum Transmission Unit | Number | False | 9100 |  |

#### Relationships

| name | peer | optional | cardinality | kind |
| ---- | ---- | -------- | ----------- | ---- |
| customer | ServicesCustomer |  | one | Attribute |
| sdp_a | InfraSDP |  | one | Attribute |
| sdp_b | InfraSDP |  | one | Attribute |
| port_a | InfraPort |  | one | Attribute |
| port_b | InfraPort |  | one | Attribute |

### EpipeService

- **Label:** Epipe Service
- **Namespace:** Infra
- **Display Labels:** name__value

#### Attributes

| name | description | kind | optional | default_value | choices |
| ---- | ----------- | ---- | -------- | ------------- | ------- |
| name |  | Text | False |  |  |

#### Relationships

| name | peer | optional | cardinality | kind |
| ---- | ---- | -------- | ----------- | ---- |
| epipe_a | InfraEpipe | False | one | Component |
| epipe_z | InfraEpipe | False | one | Component |
| customer | ServicesCustomer | False | one | Attribute |

### LSP

- **Label:** LSP
- **Namespace:** Infra
- **Display Labels:** name__value

#### Attributes

| name | description | kind | optional | default_value | choices |
| ---- | ----------- | ---- | -------- | ------------- | ------- |
| name |  | Text | True |  |  |
| role |  | Dropdown |  |  | low_latency, igp_cost, disjoint |

#### Relationships

| name | peer | optional | cardinality | kind |
| ---- | ---- | -------- | ----------- | ---- |
| src_ip | IpamIPAddress | False | one | Attribute |
| dst_ip | IpamIPAddress | False | one | Attribute |
| sdp | InfraSDP | True | one | Attribute |

### SDP

- **Label:** SDP
- **Namespace:** Infra
- **Display Labels:** sdp_id__value
- **Uniqueness Constraints:**
    - lsp, sdp_id__value
- **Human Friendly ID:** lsp__name__value, sdp_id__value

#### Attributes

| name | description | kind | optional | default_value | choices |
| ---- | ----------- | ---- | -------- | ------------- | ------- |
| sdp_id |  | Number | False |  |  |

#### Relationships

| name | peer | optional | cardinality | kind |
| ---- | ---- | -------- | ----------- | ---- |
| lsp | InfraLSP | False | one | Attribute |

### SAP

- **Label:** SAP
- **Namespace:** Infra
- **Display Labels:** sap_id__value
- **Human Friendly ID:** sap_id__value

#### Attributes

| name | description | kind | optional | default_value | choices |
| ---- | ----------- | ---- | -------- | ------------- | ------- |
| sap_id |  | Number | False |  |  |
| admin_state | Administrative state of the SAP | Dropdown | False | enable | enable, disable |
| ingress_bandwidth | Ingress bandwidth rate in kbps | Bandwidth | False | 10240000 |  |
| egress_bandwidth | Egress bandwidth rate in kbps | Bandwidth | False | 10240000 |  |
| llf_admin_state | Link Loss Forwarding administrative state | Dropdown | False | enable | enable, disable |

#### Relationships

| name | peer | optional | cardinality | kind |
| ---- | ---- | -------- | ----------- | ---- |
| port | InfraPort | False | one | Attribute |
| epipe | InfraEpipe | True | one | Attribute |

### Epipe

- **Label:** Epipe
- **Namespace:** Infra
- **Display Labels:** name__value
- **Uniqueness Constraints:**
    - sap, name__value
- **Human Friendly ID:** name__value

#### Attributes

| name | description | kind | optional | default_value | choices |
| ---- | ----------- | ---- | -------- | ------------- | ------- |
| epipe_id |  | Number | False |  |  |
| name |  | Text | False |  |  |

#### Relationships

| name | peer | optional | cardinality | kind |
| ---- | ---- | -------- | ----------- | ---- |
| sap | InfraSAP | False | one | Attribute |
| sdp | InfraSDP | False | one | Attribute |


## Code

```yaml
version: '1.0'
nodes:
- name: LSPTemplate
  label: LSP Template
  include_in_menu: false
  namespace: Infra
  attributes:
  - name: name
    kind: Text
    computed_attribute:
      kind: Jinja2
      jinja2_template: '{{ role__value }}'
    read_only: true
    optional: false
  - name: role
    kind: Dropdown
    choices:
    - name: low_latency
      label: Low Latency
    - name: igp_cost
      label: IGP Cost
    - name: disjoint
      label: Disjoint
  relationships:
  - name: node_a
    label: Node A
    peer: InfraDevice
    kind: Attribute
    cardinality: one
    identifier: lsptemplate__node_a
  - name: node_b
    label: Node B
    peer: InfraDevice
    kind: Attribute
    cardinality: one
    identifier: lsptemplate__node_b
- name: EpipeTemplate
  label: Epipe Template
  include_in_menu: false
  namespace: Infra
  attributes:
  - name: name
    kind: Text
    computed_attribute:
      kind: TransformPython
      transform: compute_epipe_name
    read_only: true
    optional: true
  - name: mtu
    kind: Number
    optional: false
    default_value: 9100
    description: Maximum Transmission Unit
  relationships:
  - name: customer
    label: Customer
    peer: ServicesCustomer
    kind: Attribute
    cardinality: one
    identifier: epipetemplate__customer
  - name: sdp_a
    label: SDP Node A
    peer: InfraSDP
    kind: Attribute
    cardinality: one
    identifier: epipetemplate__sdp_a
  - name: sdp_b
    label: SDP Node B
    peer: InfraSDP
    kind: Attribute
    cardinality: one
    identifier: epipetemplate__sdp_b
  - name: port_a
    label: Port Node A
    peer: InfraPort
    kind: Attribute
    cardinality: one
    identifier: epipetemplate__port_a
  - name: port_b
    label: Port Node B
    peer: InfraPort
    kind: Attribute
    cardinality: one
    identifier: epipetemplate__port_b
- name: EpipeService
  label: Epipe Service
  include_in_menu: false
  namespace: Infra
  display_labels:
  - name__value
  attributes:
  - name: name
    kind: Text
    unique: true
    optional: false
  relationships:
  - name: epipe_a
    label: Epipe A-Side
    peer: InfraEpipe
    kind: Component
    cardinality: one
    optional: false
    identifier: epipeservice__epipe_a
  - name: epipe_z
    label: Epipe Z-Side
    peer: InfraEpipe
    kind: Component
    cardinality: one
    optional: false
    identifier: epipeservice__epipe_z
  - name: customer
    label: Customer
    peer: ServicesCustomer
    kind: Attribute
    cardinality: one
    optional: false
    identifier: epipeservice__customer
- name: LSP
  label: LSP
  include_in_menu: false
  namespace: Infra
  display_labels:
  - name__value
  attributes:
  - name: name
    kind: Text
    optional: true
    unique: true
  - name: role
    kind: Dropdown
    choices:
    - name: low_latency
      label: Low Latency
    - name: igp_cost
      label: IGP Cost
    - name: disjoint
      label: Disjoint
  relationships:
  - name: src_ip
    kind: Attribute
    peer: IpamIPAddress
    optional: false
    cardinality: one
    identifier: infra_lsp__src_ip
  - name: dst_ip
    kind: Attribute
    peer: IpamIPAddress
    optional: false
    cardinality: one
    identifier: infra_lsp__dst_ip
  - name: sdp
    kind: Attribute
    peer: InfraSDP
    cardinality: one
    optional: true
- name: SDP
  label: SDP
  include_in_menu: false
  namespace: Infra
  display_labels:
  - sdp_id__value
  human_friendly_id:
  - lsp__name__value
  - sdp_id__value
  uniqueness_constraints:
  - - lsp
    - sdp_id__value
  attributes:
  - name: sdp_id
    kind: Number
    optional: false
  relationships:
  - name: lsp
    kind: Attribute
    peer: InfraLSP
    cardinality: one
    optional: false
- name: SAP
  label: SAP
  include_in_menu: false
  namespace: Infra
  display_labels:
  - sap_id__value
  human_friendly_id:
  - sap_id__value
  attributes:
  - name: sap_id
    kind: Number
    unique: true
    optional: false
  - name: admin_state
    kind: Dropdown
    optional: false
    description: Administrative state of the SAP
    default_value: enable
    choices:
    - name: enable
      label: Enable
      description: Enable the SAP
    - name: disable
      label: Disable
      description: Disable the SAP
  - name: ingress_bandwidth
    kind: Bandwidth
    description: Ingress bandwidth rate in kbps
    default_value: 10240000
    optional: false
  - name: egress_bandwidth
    kind: Bandwidth
    description: Egress bandwidth rate in kbps
    default_value: 10240000
    optional: false
  - name: llf_admin_state
    kind: Dropdown
    description: Link Loss Forwarding administrative state
    optional: false
    default_value: enable
    choices:
    - name: enable
      label: Enable
      description: Enable link loss forwarding
    - name: disable
      label: Disable
      description: Disable link loss forwarding
  relationships:
  - name: port
    kind: Attribute
    peer: InfraPort
    cardinality: one
    optional: false
  - name: epipe
    kind: Attribute
    peer: InfraEpipe
    cardinality: one
    optional: true
- name: Epipe
  label: Epipe
  namespace: Infra
  include_in_menu: false
  display_labels:
  - name__value
  human_friendly_id:
  - name__value
  uniqueness_constraints:
  - - sap
    - name__value
  attributes:
  - name: epipe_id
    kind: Number
    state: absent
    unique: true
    optional: false
  - name: name
    kind: Text
    unique: true
    optional: false
  relationships:
  - name: sap
    kind: Attribute
    peer: InfraSAP
    cardinality: one
    optional: false
  - name: sdp
    kind: Attribute
    peer: InfraSDP
    cardinality: one
    optional: false

```