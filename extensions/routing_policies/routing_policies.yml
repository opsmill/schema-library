# yaml-language-server: $schema=https://schema.infrahub.app/infrahub/schema/latest.json
---
version: "1.0"

generics:
  - name: Policy
    namespace: Routing
    icon: carbon:deployment-policy
    include_in_menu: false
    description: "Policy defining the rules for routing traffic in a network."
    uniqueness_constraints:
      - ["name__value"]
    human_friendly_id:
      - "name__value"
    order_by:
      - name__value
    display_labels:
      - name__value
    attributes:
      - name: name
        kind: Text
        description: "The name of the routing policy."
        unique: true
        optional: false
        order_weight: 1000
      - name: description
        kind: Text
        description: "An optional description of the routing policy."
        optional: true
        order_weight: 1100
      - name: policy_type
        label: Type
        kind: Dropdown
        description: "The type of routing policy which specifies the direction of route advertisement."
        choices:
          - name: import-policy
            label: Import
            description: "Policy for incoming routes."
            color: "#E6E6FA"  # lavender
          - name: export-policy
            label: Export
            description: "Policy for outgoing routes."
            color: "#E6E6FA"  # lavender
          - name: import-export-policy
            label: Import + Export
            description: "Policy for both incoming and outgoing routes."
            color: "#E6E6FA"  # lavender
        order_weight: 1200
      - name: weight
        kind: Number
        description: "Priority of the routing policy. The higher the number, the higher the priority."
        optional: true
        default_value: 1000
        order_weight: 1400
      - name: address_family
        description: "The address family for the routing policy indicating the type of IP address."
        kind: Dropdown
        choices:
          - name: "ipv4"
            label: IPv4
            description: "Policy applies to IPv4 addresses."
            color: "#E6E6FA"  # lavender
          - name: "ipv6"
            label: IPv6
            description: "Policy applies to IPv6 addresses."
            color: "#E6E6FA"  # lavender
          - name: "all"
            label: All
            description: "Policy applies to both IPv4 and IPv6 addresses."
            color: "#E6E6FA"  # lavender
        default_value: "all"
        order_weight: 1150
